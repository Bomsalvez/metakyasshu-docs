# RF012.1 ðŸŽ¯ CriaÃ§Ã£o de metas financeiras

## ðŸ“ DescriÃ§Ã£o

Esta funcionalidade permite a criaÃ§Ã£o de metas financeiras personalizÃ¡veis por valor (ex: poupar X para um objetivo) e
por data (ex: atingir um valor atÃ© data Y), auxiliando o usuÃ¡rio a planejar e alcanÃ§ar seus objetivos financeiros.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio Autenticado

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar logado no sistema.

## ðŸ”Œ Endpoints

- `POST /api/goals`

## ðŸ“‹ Dados da Meta Financeira

| Campo            | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o                              | RestriÃ§Ãµes                                           |
|------------------|----------|-------------|----------------------------------------|------------------------------------------------------|
| `name`           | `string` | âœ… Sim       | Nome da meta (ex: "Viagem dos Sonhos") | MÃ­nimo de 3 caracteres, Ãºnico para o usuÃ¡rio         |
| `target_amount`  | `number` | âœ… Sim       | Valor total que se deseja alcanÃ§ar     | Valor positivo, com duas casas decimais              |
| `current_amount` | `number` | âœ… Sim       | Valor atual acumulado para a meta      | Valor nÃ£o negativo, menor ou igual a `target_amount` |
| `due_date`       | `string` | âœ… Sim       | Data limite para atingir a meta        | Formato YYYY-MM-DD, futura                           |
| `description`    | `string` | â¬œ NÃ£o       | DescriÃ§Ã£o detalhada da meta            | MÃ¡ximo de 500 caracteres                             |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    U->>S: Acessa a seÃ§Ã£o de Metas Financeiras
    S->>U: Exibe a opÃ§Ã£o para criar nova meta
    U->>S: Informa nome, valor alvo, valor atual e data limite
    S->>S: Valida os dados da meta
    S->>BD: Salva a nova meta financeira
    BD->>S: Confirma o salvamento
    S->>U: Exibe mensagem de sucesso e a nova meta na lista
```

1. O usuÃ¡rio autenticado acessa a seÃ§Ã£o de gerenciamento de metas financeiras.
2. O sistema exibe a opÃ§Ã£o para criar uma nova meta.
3. O usuÃ¡rio preenche os dados solicitados: nome da meta, valor total que deseja alcanÃ§ar (`target_amount`), o valor que
   jÃ¡ possui (`current_amount`) e a data limite para atingir a meta (`due_date`). Opcionalmente, pode adicionar uma
   descriÃ§Ã£o.
4. O sistema valida os dados informados, garantindo que o valor alvo seja positivo, a data limite seja futura e o valor
   atual nÃ£o exceda o valor alvo.
5. O sistema salva as informaÃ§Ãµes da nova meta financeira associada ao usuÃ¡rio no banco de dados.
6. O sistema exibe uma mensagem de confirmaÃ§Ã£o de sucesso e a nova meta Ã© adicionada Ã  lista de metas do usuÃ¡rio.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ FA01 - CÃ¡lculo de ContribuiÃ§Ã£o Mensal Sugerida

1. ApÃ³s criar a meta, o sistema pode sugerir um valor de contribuiÃ§Ã£o mensal necessÃ¡rio para atingir a meta atÃ© a
   `due_date`, com base no `target_amount`, `current_amount` e o tempo restante.

## ðŸš« Fluxos de ExceÃ§Ã£o

### âš ï¸ FE01 - Dados invÃ¡lidos

1. No passo 4 do fluxo principal, se os dados informados forem invÃ¡lidos (ex: `target_amount` negativo, `due_date`
   passada, `current_amount` maior que `target_amount`), o sistema exibe uma mensagem de erro especÃ­fica para o campo
   invÃ¡lido.
2. O sistema retorna ao formulÃ¡rio para que o usuÃ¡rio corrija os dados informados.

### âš ï¸ FE02 - Nome da meta jÃ¡ existente

1. No passo 4 do fluxo principal, se o nome da meta informado jÃ¡ existir para o usuÃ¡rio, o sistema exibe uma mensagem de
   erro indicando a duplicidade.
2. O sistema retorna ao passo 3 do fluxo principal para que o usuÃ¡rio informe um novo nome.

### âš ï¸ FE03 - Erro no sistema ao salvar a meta

1. No passo 5 do fluxo principal, se ocorrer um erro interno no sistema ao tentar salvar a meta, o sistema exibe uma
   mensagem de erro genÃ©rica e sugere que o usuÃ¡rio tente novamente mais tarde.

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP - Criar Meta Financeira

```http
POST /api/goals HTTP/1.1
Host: api.metakyasshu.com
Content-Type: application/json
Authorization: Bearer [TOKEN_DE_AUTENTICACAO]

{
  "name": "Entrada Apartamento",
  "target_amount": 50000.00,
  "current_amount": 5000.00,
  "due_date": "2025-12-31",
  "description": "Economizar para a entrada do apartamento novo."
}
```

---

> ---------------------------------------------------------------------------
> #### ðŸ’° METAKYASSHU ðŸ’°
> ***Transformando finanÃ§as em conquistas compartilhadas***
> --------------------------------------------------------------------------- 