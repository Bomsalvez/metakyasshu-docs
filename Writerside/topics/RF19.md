# ðŸ’¸ RF19 - Listar Despesas 

![Logo.png](Logo.png){ width=150 }

## ðŸ“ DescriÃ§Ã£o

Este requisito Ã© responsÃ¡vel por permitir que o usuÃ¡rio visualize a lista de despesas cadastradas no sistema.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio
- ðŸ‘¥ Colaborador

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar autenticado no sistema.
- O colaborador deve estar autenticado no sistema.
- O usuÃ¡rio deve ter compartilhado a despesa com o colaborador.

## ðŸ”Œ Endpoints

- `GET /api/expense`

## ðŸ“‹ Dados da RequisiÃ§Ã£o

| Campo          | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o                       | RestriÃ§Ãµes |
|----------------|----------|-------------|---------------------------------|------------|
| `token`        | `string` | âœ… Sim      | Token jwt do usuÃ¡rio            |            |
| `name`         | `string` | âŒ NÃ£o      | Nome da despesa                 |            |
| `category`     | `string` | âŒ NÃ£o      | Categoria da despesa            |            |
| `date`         | `string` | âŒ NÃ£o      | Data da despesa                 |            |
| `type`         | `string` | âŒ NÃ£o      | Tipo da despesa                 |            |
| `expiration`   | `enum`   | âŒ NÃ£o      | Despesas com vencimento prÃ³ximo |            |
| `access level` | `enum`   | âŒ NÃ£o      | NÃ­vel de acesso                 |            |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    
    U->>S: Faz login
    S->>U: Exibe menu
    U->>S: Acessa despesas
    S->>BD: Busca despesas
    BD->>S: Retorna despesas
    S->>U: Exibe lista de despesas
```

1. O usuÃ¡rio faz login no sistema.
2. O usuÃ¡rio acessa a opÃ§Ã£o no menu de despesas.
3. O sistema exibe a lista de despesas.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ FA01 - Filtrar despesas
1. O usuÃ¡rio faz login no sistema.
2. O usuÃ¡rio acessa a opÃ§Ã£o no menu de despesas.
3. O sistema exibe a lista de despesas.
4. O usuÃ¡rio preenche os campos de filtro.
5. O sistema exibe a lista de despesas filtrada.

## ðŸš« Fluxos de ExceÃ§Ã£o

- NÃ£o se aplica

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP
```http
GET /api/expense HTTP/1.1
Host: api.metakyasshu.com
Authorization: Bearer {token}
```

### Resposta
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "expenses": [
    {
      "id": 456,
      "name": "Conta de Luz",
      "description": "Fatura de energia do mÃªs de junho",
      "value": 150.75,
      "dateVencto": "2023-06-15",
      "category": {
        "id": 2,
        "name": "Utilidades",
        "group": "DESPESA"
      },
      "status": "PENDING"
    },
    {
      "id": 457,
      "name": "Supermercado",
      "description": "Compras do mÃªs",
      "value": 450.25,
      "dateVencto": "2023-06-20",
      "category": {
        "id": 1,
        "name": "AlimentaÃ§Ã£o",
        "group": "DESPESA"
      },
      "status": "PENDING"
    }
  ]
}
```

### RequisiÃ§Ã£o com Filtros
```http
GET /api/expense?category=2&expiration=NEXT_WEEK HTTP/1.1
Host: api.metakyasshu.com
Authorization: Bearer {token}
```

> ---------------------------------------------------------------------------
> #### ðŸ’° Sistema de GestÃ£o Financeira ðŸ’°
> ***Controlando suas finanÃ§as de forma simples e eficiente***
> ---------------------------------------------------------------------------