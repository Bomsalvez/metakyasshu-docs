# ðŸ’° RF25 - Listar Receitas 

![Logo.png](Logo.png){ width=150 }

## ðŸ“ DescriÃ§Ã£o

O sistema deve permitir que o usuÃ¡rio visualize uma lista de receitas.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar autenticado no sistema.

## ðŸ”Œ Endpoints

- `GET /api/revenue`

## ðŸ“‹ Dados da RequisiÃ§Ã£o

| Campo        | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o               | RestriÃ§Ãµes |
|--------------|----------|-------------|-------------------------|------------|
| `token`      | `string` | âœ… Sim      | Token jwt do usuÃ¡rio    |            |
| `description`| `string` | âŒ NÃ£o      | DescriÃ§Ã£o da receita    |            |
| `category`   | `string` | âŒ NÃ£o      | Categoria da receita    |            |
| `date_init`  | `date`   | âŒ NÃ£o      | Data inicial da receita | Formato: YYYY-MM-DD |
| `date_final` | `date`   | âŒ NÃ£o      | Data final da receita   | Formato: YYYY-MM-DD |
| `min_value`  | `decimal`| âŒ NÃ£o      | Valor mÃ­nimo            | Deve ser maior que zero |
| `max_value`  | `decimal`| âŒ NÃ£o      | Valor mÃ¡ximo            | Deve ser maior que zero |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    
    U->>S: Faz login
    S->>U: Exibe menu
    U->>S: Acessa opÃ§Ã£o de receitas
    S->>BD: Busca lista de receitas
    BD->>S: Retorna lista de receitas
    S->>U: Exibe lista de receitas
```

1. O usuÃ¡rio faz login no sistema.
2. O usuÃ¡rio acessa a opÃ§Ã£o no menu de receitas.
3. O sistema exibe a lista de receitas.

## ðŸ”€ Fluxos Alternativos

### ðŸ” FA01 - Filtrar
1. No passo 3 do fluxo principal, o usuÃ¡rio informa os filtros desejados.
2. O sistema exibe a lista de receitas filtrada.

## ðŸš« Fluxos de ExceÃ§Ã£o

### âš ï¸ FE01 - Token invÃ¡lido
1. No passo 3 do fluxo principal, se o token informado for invÃ¡lido, o sistema exibe uma mensagem de erro.
2. O sistema redireciona o usuÃ¡rio para a pÃ¡gina de login.

### âš ï¸ FE02 - UsuÃ¡rio nÃ£o logado
1. No passo 2 do fluxo principal, se o usuÃ¡rio nÃ£o estiver logado, o sistema exibe uma mensagem de erro.
2. O sistema redireciona o usuÃ¡rio para a pÃ¡gina de login.

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP
```http
GET /api/revenue?category=SalÃ¡rio&date_init=2023-06-01&date_final=2023-06-30 HTTP/1.1
Host: api.metakyasshu.com
Authorization: Bearer {token}
```

### Resposta
```http
HTTP/1.1 200 OK
Content-Type: application/json

{
  "total": 3,
  "totalValue": 15000.00,
  "items": [
    {
      "id": 123,
      "description": "SalÃ¡rio mensal",
      "value": 5000.00,
      "date": "2023-06-05",
      "category": {
        "id": 3,
        "name": "SalÃ¡rio",
        "group": "RECEITA"
      }
    },
    {
      "id": 124,
      "description": "Freelance projeto web",
      "value": 7000.00,
      "date": "2023-06-15",
      "category": {
        "id": 3,
        "name": "SalÃ¡rio",
        "group": "RECEITA"
      }
    },
    {
      "id": 125,
      "description": "BÃ´nus trimestral",
      "value": 3000.00,
      "date": "2023-06-30",
      "category": {
        "id": 3,
        "name": "SalÃ¡rio",
        "group": "RECEITA"
      }
    }
  ]
}
```


> ---------------------------------------------------------------------------
> #### ðŸ’° Sistema de GestÃ£o Financeira ðŸ’°
> ***Controlando suas finanÃ§as de forma simples e eficiente***
> ---------------------------------------------------------------------------