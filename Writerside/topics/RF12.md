# ðŸ·ï¸ RF12 - Cadastrar Categoria 

![Logo.png](Logo.png){ width=150 }

## ðŸ“ DescriÃ§Ã£o

Este requisito tem como objetivo permitir que o usuÃ¡rio cadastre uma categoria, que serÃ¡ utilizada para classificar as despesas e metas.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar autenticado no sistema.

## ðŸ”Œ Endpoints

- `POST /api/category`

## ðŸ“‹ Dados da Categoria

| Campo   | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o            | RestriÃ§Ãµes                    |
|---------|----------|-------------|----------------------|-------------------------------|
| `name`  | `string` | âœ… Sim      | Nome da categoria    | MÃ­nimo de 3 caracteres        |
| `group` | `enum`   | âœ… Sim      | Grupo da categoria   |                               |
| `icon`  | `file`   | âŒ NÃ£o      | Ãcone da categoria   | JPEG, PNG, SVG, MÃ¡ximo de 1MB |
| `token` | `string` | âœ… Sim      | Token jwt do usuÃ¡rio |                               |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    
    U->>S: Faz login
    S->>U: Exibe menu
    U->>S: Acessa categorias
    S->>U: Exibe lista de categorias
    U->>S: Clica em adicionar categoria
    S->>U: Exibe formulÃ¡rio
    U->>S: Preenche campos
    U->>S: Confirma adiÃ§Ã£o
    S->>S: Valida campos
    S->>BD: Adiciona categoria
    BD->>S: Confirma adiÃ§Ã£o
    S->>U: Redireciona para categorias
```

1. O usuÃ¡rio faz login no sistema.
2. O usuÃ¡rio acessa a opÃ§Ã£o no menu de categorias.
3. O sistema exibe a lista de categorias.
4. O usuÃ¡rio clica no botÃ£o de adicionar categoria.
5. O sistema exibe um formulÃ¡rio para adicionar categoria.
6. O usuÃ¡rio preenche os campos do formulÃ¡rio.
7. O usuÃ¡rio clica no botÃ£o de confirmar adiÃ§Ã£o.
8. O sistema valida os campos.
9. O sistema adiciona a categoria.
10. O usuÃ¡rio Ã© redirecionado para a pÃ¡gina de categorias.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ FA01 - Cancelar adiÃ§Ã£o
1. O usuÃ¡rio faz login no sistema.
2. O usuÃ¡rio acessa a opÃ§Ã£o no menu de categorias.
3. O sistema exibe a lista de categorias.
4. O usuÃ¡rio clica no botÃ£o de adicionar categoria.
5. O sistema exibe um formulÃ¡rio para adicionar categoria.
6. O usuÃ¡rio clica no botÃ£o de cancelar adiÃ§Ã£o.
7. O usuÃ¡rio Ã© redirecionado para a pÃ¡gina de categorias.

## ðŸš« Fluxos de ExceÃ§Ã£o

### âš ï¸ FE01 - Campos invÃ¡lidos
1. No passo 8 do Fluxo Principal, se os campos nÃ£o atenderem aos requisitos mÃ­nimos de seguranÃ§a, o sistema exibe uma mensagem de erro.
2. O sistema redireciona o usuÃ¡rio para a pÃ¡gina de adiÃ§Ã£o de categoria.

### âš ï¸ FE02 - Categoria jÃ¡ existente
1. No passo 8 do Fluxo Principal, se a categoria jÃ¡ existir, o sistema exibe uma mensagem de erro.
2. O sistema redireciona o usuÃ¡rio para a pÃ¡gina de adiÃ§Ã£o de categoria.

### âš ï¸ FE03 - Ãcone invÃ¡lido
1. No passo 8 do Fluxo Principal, se o Ã­cone nÃ£o atender aos requisitos mÃ­nimos de seguranÃ§a, o sistema exibe uma mensagem de erro.
2. O sistema redireciona o usuÃ¡rio para a pÃ¡gina de adiÃ§Ã£o de categoria.

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP
```http
POST /api/category HTTP/1.1
Host: api.metakyasshu.com
Content-Type: multipart/form-data
Authorization: Bearer {token}

--boundary
Content-Disposition: form-data; name="name"
AlimentaÃ§Ã£o

--boundary
Content-Disposition: form-data; name="group"
DESPESA

--boundary
Content-Disposition: form-data; name="icon"; filename="food-icon.png"
Content-Type: image/png

[Dados binÃ¡rios da imagem]
--boundary--
```

### Resposta
```http
HTTP/1.1 201 Created
Content-Type: application/json

{
  "id": 123,
  "name": "AlimentaÃ§Ã£o",
  "group": "DESPESA",
  "icon": "https://api.metakyasshu.com/uploads/icons/food-icon.png"
}
```

> ---------------------------------------------------------------------------
> #### ðŸ’° Sistema de GestÃ£o Financeira ðŸ’°
> ***Controlando suas finanÃ§as de forma simples e eficiente***
> ---------------------------------------------------------------------------