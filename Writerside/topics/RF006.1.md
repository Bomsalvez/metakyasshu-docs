# RF006.1 ðŸ’³ Cadastro de contas bancÃ¡rias

## ðŸ“ DescriÃ§Ã£o

Esta funcionalidade permite que o usuÃ¡rio cadastre suas contas bancÃ¡rias de diferentes instituiÃ§Ãµes financeiras no
sistema para um controle financeiro centralizado.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio Autenticado

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar logado no sistema.

## ðŸ”Œ Endpoints

- `POST /api/account`

## ðŸ“‹ Dados da Conta BancÃ¡ria

| Campo            | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o                          | RestriÃ§Ãµes             |
|------------------|----------|-------------|------------------------------------|------------------------|
| `bank_name`      | `string` | âœ… Sim       | Nome do banco                      | MÃ­nimo de 2 caracteres |
| `account_type`   | `string` | âœ… Sim       | Tipo de conta (corrente, poupanÃ§a) | `checking`, `savings`  |
| `agency`         | `string` | âœ… Sim       | NÃºmero da agÃªncia                  | Formato numÃ©rico       |
| `account_number` | `string` | âœ… Sim       | NÃºmero da conta                    | Formato numÃ©rico       |
| `balance`        | `number` | âœ… Sim       | Saldo inicial da conta             | Valor nÃ£o negativo     |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    U->>S: Acessa a seÃ§Ã£o de contas bancÃ¡rias
    S->>U: Exibe a opÃ§Ã£o para adicionar nova conta
    U->>S: Informa os dados da conta (banco, tipo, agÃªncia, nÃºmero, saldo)
    S->>S: Valida os dados da conta
    S->>BD: Salva a nova conta bancÃ¡ria
    BD->>S: Confirma o salvamento
    S->>U: Exibe mensagem de sucesso e a nova conta na lista
```

1. O usuÃ¡rio autenticado acessa a seÃ§Ã£o de gerenciamento de contas bancÃ¡rias.
2. O sistema exibe a opÃ§Ã£o para adicionar uma nova conta.
3. O usuÃ¡rio preenche os dados solicitados para a conta bancÃ¡ria (nome do banco, tipo de conta, agÃªncia, nÃºmero da conta
   e saldo inicial).
4. O sistema valida os dados informados para garantir que estÃ£o corretos e completos.
5. O sistema salva as informaÃ§Ãµes da nova conta bancÃ¡ria associada ao perfil do usuÃ¡rio no banco de dados.
6. O sistema exibe uma mensagem de confirmaÃ§Ã£o de sucesso e a nova conta Ã© adicionada Ã  lista de contas do usuÃ¡rio.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ FA01 - Conta BancÃ¡ria jÃ¡ cadastrada

1. No passo 4 do fluxo principal, se os dados da conta informados jÃ¡ corresponderem a uma conta previamente cadastrada
   pelo usuÃ¡rio, o sistema exibe uma mensagem de erro indicando que a conta jÃ¡ existe.
2. O sistema retorna ao passo 3 do fluxo principal para que o usuÃ¡rio revise os dados ou cancele a operaÃ§Ã£o.

## ðŸš« Fluxos de ExceÃ§Ã£o

### âš ï¸ FE01 - Dados invÃ¡lidos

1. No passo 4 do fluxo principal, se os dados informados forem invÃ¡lidos (ex: nÃºmero de agÃªncia ou conta com formato
   incorreto, saldo negativo), o sistema exibe uma mensagem de erro especÃ­fica para o campo invÃ¡lido.
2. O sistema retorna ao passo 3 do fluxo principal para que o ator corrija os dados informados.

### âš ï¸ FE02 - Erro no sistema ao salvar a conta

1. No passo 5 do fluxo principal, se ocorrer um erro interno no sistema ao tentar salvar a conta bancÃ¡ria, o sistema
   exibe uma mensagem de erro genÃ©rica e sugere que o usuÃ¡rio tente novamente mais tarde.

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP - Cadastrar Conta BancÃ¡ria

```http
POST /api/account HTTP/1.1
Host: api.metakyasshu.com
Content-Type: application/json
Authorization: Bearer [TOKEN_DE_AUTENTICACAO]

{
  "bank_name": "Banco Digital Exemplo",
  "account_type": "checking",
  "agency": "0001",
  "account_number": "123456-7",
  "balance": 1500.50
}
```

---

> ---------------------------------------------------------------------------
> #### ðŸ’° METAKYASSHU ðŸ’°
> ***Transformando finanÃ§as em conquistas compartilhadas***
> --------------------------------------------------------------------------- 