# RF006.5 ðŸ’³ Registro de dinheiro em espÃ©cie

## ðŸ“ DescriÃ§Ã£o

Esta funcionalidade permite que o usuÃ¡rio registre seus valores em dinheiro em espÃ©cie, mantendo um controle preciso de
seu saldo fÃ­sico.

## ðŸ‘¥ Atores

- ðŸ‘¤ UsuÃ¡rio Autenticado

## âš ï¸ PrÃ©-condiÃ§Ãµes

- O usuÃ¡rio deve estar logado no sistema.

## ðŸ”Œ Endpoints

- `POST /api/cash`
- `PUT /api/cash/{cashEntryId}`
- `GET /api/cash`

## ðŸ“‹ Dados de Registro de Dinheiro em EspÃ©cie

| Campo         | Tipo     | ObrigatÃ³rio | DescriÃ§Ã£o                    | RestriÃ§Ãµes               |
|---------------|----------|-------------|------------------------------|--------------------------|
| `date`        | `string` | âœ… Sim       | Data do registro             | Formato YYYY-MM-DD       |
| `amount`      | `number` | âœ… Sim       | Valor do dinheiro em espÃ©cie | Valor positivo           |
| `description` | `string` | â¬œ NÃ£o       | DescriÃ§Ã£o do registro        | MÃ¡ximo de 255 caracteres |

## ðŸ”„ Fluxo Principal

```mermaid
sequenceDiagram
    actor U as UsuÃ¡rio
    participant S as Sistema
    participant BD as Banco de Dados
    U->>S: Acessa a seÃ§Ã£o de dinheiro em espÃ©cie
    S->>U: Exibe a opÃ§Ã£o para registrar valor
    U->>S: Informa a data, valor e descriÃ§Ã£o (opcional)
    S->>S: Valida os dados informados
    S->>BD: Salva o registro de dinheiro
    BD->>S: Confirma o salvamento
    S->>U: Exibe mensagem de sucesso e saldo atualizado
```

1. O usuÃ¡rio autenticado acessa a seÃ§Ã£o de gerenciamento de dinheiro em espÃ©cie.
2. O sistema exibe a opÃ§Ã£o para registrar uma entrada ou saÃ­da de dinheiro.
3. O usuÃ¡rio preenche os campos com a data, o valor e uma descriÃ§Ã£o opcional para o registro.
4. O sistema valida os dados informados, garantindo que o valor seja positivo e a data vÃ¡lida.
5. O sistema salva o registro de dinheiro em espÃ©cie associado ao perfil do usuÃ¡rio no banco de dados.
6. O sistema atualiza o saldo total de dinheiro em espÃ©cie do usuÃ¡rio e exibe uma mensagem de confirmaÃ§Ã£o de sucesso.

## ðŸ”€ Fluxos Alternativos

### âš ï¸ FA01 - EdiÃ§Ã£o de Registro Existente

1. O usuÃ¡rio seleciona um registro de dinheiro em espÃ©cie existente para ediÃ§Ã£o.
2. O sistema exibe um formulÃ¡rio prÃ©-preenchido com os dados do registro.
3. O usuÃ¡rio modifica os campos desejados (data, valor, descriÃ§Ã£o) e submete as alteraÃ§Ãµes.
4. O sistema valida os novos dados e atualiza o registro no banco de dados.
5. O sistema exibe mensagem de sucesso e saldo atualizado.

## ðŸš« Fluxos de ExceÃ§Ã£o

### âš ï¸ FE01 - Dados invÃ¡lidos

1. No passo 4 do fluxo principal, se os dados informados forem invÃ¡lidos (ex: valor negativo, data futura), o sistema
   exibe uma mensagem de erro especÃ­fica para o campo invÃ¡lido.
2. O sistema retorna ao passo 3 do fluxo principal para que o ator corrija os dados informados.

### âš ï¸ FE02 - Erro ao salvar o registro

1. No passo 5 do fluxo principal, se ocorrer um erro interno no sistema ao tentar salvar o registro, o sistema exibe uma
   mensagem de erro genÃ©rica e sugere que o usuÃ¡rio tente novamente mais tarde.

## ðŸ§ª Exemplos de Uso

### RequisiÃ§Ã£o HTTP - Registrar Dinheiro em EspÃ©cie (Entrada)

```http
POST /api/cash HTTP/1.1
Host: api.metakyasshu.com
Content-Type: application/json
Authorization: Bearer [TOKEN_DE_AUTENTICACAO]

{
  "date": "2023-10-27",
  "amount": 100.00,
  "description": "Dinheiro recebido em reembolso"
}
```

### RequisiÃ§Ã£o HTTP - Registrar Dinheiro em EspÃ©cie (SaÃ­da)

```http
POST /api/cash HTTP/1.1
Host: api.metakyasshu.com
Content-Type: application/json
Authorization: Bearer [TOKEN_DE_AUTENTICACAO]

{
  "date": "2023-10-27",
  "amount": -50.00,
  "description": "Pagamento de almoÃ§o em dinheiro"
}
```

---

> ---------------------------------------------------------------------------
> #### ðŸ’° METAKYASSHU ðŸ’°
> ***Transformando finanÃ§as em conquistas compartilhadas***
> --------------------------------------------------------------------------- 